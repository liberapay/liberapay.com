% from "templates/icons.html" import glyphicon

<li class="dropdown dropdown-hover locale">
    <button class="dropdown-toggle navbar-btn" type="button"
            data-toggle="dropdown"
            title="{{ _('Switch to another language') }}">
        <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
        <span class="text">{{ locale.language.upper() }}</span>
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu dropdown-menu-right" role="menu">
    % for l_completion, l_code, l_name, l_url in website.lang_list
        <li {% if l_code == locale.language %} class="active" {% endif %}
            ><a href="{{ l_url }}{{ request.line.uri }}" rel="alternate" hreflang="{{ l_code }}"
                >{{ _("{0}", l_name) }}</a
            >{% if l_completion <= 99 %}<a href="https://hosted.weblate.org/languages/{{ l_code }}/liberapay/"
                 ><span style="float:right><small>{{ _(" ({0} complete)", format_percent(l_completion)) }}</small></span></a>{% endif %}</li>
    % endfor
        <li role="separator" class="divider"></li>
        <li><a href="https://hosted.weblate.org/engage/liberapay/?utm_source=liberapay-navbar"
               target="_blank" rel="noopener noreferrer"
               ><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
               {{ _("Help us translate Liberapay") }}</a></li>
    </ul>
</li>
