% from 'templates/macros/auth.html' import auth_button with context
% from 'templates/macros/elsewhere.html' import account_elsewhere with context

% set accounts = accounts or participant.get_accounts_elsewhere()
% if accounts or edit
% if not edit
<h3>{{ _("Linked Accounts") }}</h3>
% endif
% if edit
<p>{{ _(
    "Connecting the accounts you own on other platforms makes your Liberapay "
    "profile easier to find, and helps to demonstrate that you are who you "
    "claim to be."
) }}</p>
% else
<p>{{ _(
    "{0} owns the following accounts on other platforms:", participant.username
) }}</p>
% endif
<div class="accounts">
    % for platform in website.platforms
        % if accounts[platform.name] or edit
            {{ account_elsewhere(platform, accounts, auth_button) }}
        % endif
    % endfor
</div>
% endif
